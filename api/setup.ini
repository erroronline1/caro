; CARO - Cloud Assisted Records and Operations
; Copyright (C) 2023-2024 error on line 1 (dev@erroronline.one)
 
; This program is free software: you can redistribute it and/or modify
; it under the terms of the GNU Affero General Public License as
; published by the Free Software Foundation, either version 3 of the
; License, or any later version.
 
; This program is distributed in the hope that it will be useful,
; but WITHOUT ANY WARRANTY; without even the implied warranty of
; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
; GNU Affero General Public License for more details.
 
; You should have received a copy of the GNU Affero General Public License
; along with this program. If not, see <https://www.gnu.org/licenses/>.

; configuration
; the following settings can be changed at runtime

; general application settings
[application]
defaultlanguage = "en" ; default fallback application language: en, de, etc. according to available language.xx.ini files; user can customize within profile
issue_mail = "dev@erroronline.one" ; address for application and security issues
require_record_type_selection = 1 ; 1: yes, 0: no; require selection on records e.g. if this is related to a complaint 
timezone = "Europe/Berlin" ; timezone for calendar handling

[calendar]
holidays = "01-01, 01-06, 05-01, 10-03, 11-01, 12-24, 12-25, 12-26, 12-31"
; comment out if any of these holidays don't apply
; second key is just for comprehension, value is offset to easter sunday
; easter_holidays[maundy_thursday] = -3
easter_holidays[good_friday] = -2
; easter_holidays[holy_saturday] = -1
easter_holidays[easter_monday] = 1
easter_holidays[ascension] = 39
easter_holidays[pentecost] = 50
easter_holidays[corpus_christi] = 60

workdays = "1, 2, 3, 4, 5" ; monday=1 to sunday=7, drop which have the same marking as holidays, e.g. weekends
default_due = 7 ; scheduled events are due in x days by default

hide_offduty_reasons[] = "" ; since this array is implemented anyway this empty value is processed to avoid displaying regular working hours entries. do not change
; hide_offduty_reasons[] = "sickleave" ; append reason keys as defined in language.xx.ini to adhere to your company policies regarding data safety

; default values for csv processing if left out of filter rules
[csv]
headerrowindex = 0
dialect["separator"] = ";"
dialect["enclosure"] = "\"" ; coding environments may mess up colouring after this escaped quote
dialect["escape"] = ""

;"forbidden names as regex-patterns
[forbidden]
names[] = "[^\w\s\d\.\-ÄÖÜäöüß]" ; anything else but word characters, whitespace, decimals, special characters, MUST BE THE FIRST ITEM, serves for export filenames as well
names[] = "^.{0,3}$" ; less than 4 characters

; immutable hardcoded reserved keywords
names[] = "^\d+$" ; names must not be numeric only as this is reserved for database ids
names[] = "^_" ; names must not start with _
names[] = "IDENTIFY_BY_|DEFAULT_" ; special substrings |-separated
names[] = "^(caro|search|false|null|sharepoint|selectedID|component|users|context|form|form_name|form_id|bundle|recordretype)$" ; literal terms |-separated

[lifespan]
idle = 2700 ; SECONDS after which a session expires without intermittend request
mdr14_sample_interval = 365 ; DAYS until a new sample check is required as default value
mdr14_sample_reusable = 1825 ; DAYS until a new sample check on the same product is allowed as default value
open_record_reminder = 30 ; DAYS after unclosed records are reminded of via messenger
order = 182 ; DAYS, after these orders marked as received but not archived will be deleted
sharepoint =  48 ; HOURS, after these files will be deleted
tmp =  24 ; HOURS, after these files will be deleted
training_renewal = 365 ; DAYS until a training expires, warning per header colour in overviews

; probability factor for similarity of texts in percent
[likeliness]
consumables_article_no_similarity = 70 ; percent
csvprocessor_source_encoding = 'ISO-8859-1, ISO-8859-3, ISO-8859-15, UTF-8'
file_search_similarity = 50 ; percent
records_search_similarity = 20 ; percent

[limits]
form_image = 2048 ; max pixels on longer side
identifier =  128 ; characters for identifiers, the longer, the more complex and error-prone the qr code becomes. 17 characters will be appended by default for a timestamp
max_records = 128 ; display of record summaries, more than that will be hidden, still being displayed if filtered
order_approvalsignature_image = 2048 ; max pixels on longer side
qr_errorlevel = 'H'; `'L'`, `'M'`, `'Q'` or `'H'` - H for maximum error tolerance but higher pixel density
record_image = 2048 ; max pixels on longer side
risk_acceptance_level = 2 ; product of probability times damage to be highlighted 
user_image = 256 ; max pixels on longer side

; permissions based of and matching languages.xx.ini permissions
; dynamic handling for modules and methods
; admin by default
; IF YOU ADD OR REPLACE A GROUP FOR APPROVALS ALL CURRENT ITEMS MUST BE APPROVED BY THIS GROUP RETROSPECTIVE!
[permissions]
appmanual = "qmo" ; contribute to and edit application manual
audits = "ceo, qmo, prrc" ; access audits
calendaredit = "ceo, qmo, supervisor" ; edit, delete or complete events and entries (scheduled events can be closed by anyone)
calendaraddforeigntimesheet = "ceo, supervisor, human_ressources" ; e.g. insert sick days after calling in
calendarfullaccess = "ceo" ; edit, delete or complete events and entries 
calendarfulltimesheetexport = "ceo, human_ressources" ; exporting of all users timesheets in one go, adding foreign timesheet entries
complaintclosing = "supervisor, qmo, prrc" ; SEE WARNING ABOVE - close case documentation containing a complaint
csvfilter = "ceo, qmo, purchase, office" ; access and execute csv filter
csvrules = "qmo" ; add csv filter
externaldocuments = "office, ceo, qmo" ; upload and manage external documents
filebundles = "ceo, qmo" ; create file bundles
files = "office, ceo, qmo" ; upload and delete files
formapproval = "ceo, qmo, supervisor" ; SEE WARNING ABOVE - approve forms and components
formcomposer = "ceo, qmo" ; compose forms
formexport = "ceo, qmo, supervisor" ; export forms as printable pdf
incorporation = "ceo, qmo, prrc" ; SEE WARNING ABOVE - incorporate products, user by default for gathering information, set up permissions have to approve and are authorized to revoke
mdrsamplecheck = "ceo, qmo, prrc"; must have access to audit as well
orderaddinfo = "ceo, purchase" ; permission to add information to any approved orders beside own unit assigned ones
ordercancel = "ceo" ; permission to cancel or return any order beside own unit assigned ones
orderdisplayall = "purchase" ; display all orders by default, not only for own units
orderprocessing = "purchase"; process orders
products = "ceo, qmo, purchase, purchase_assistant, prrc" ; add and edit products; needs at least the same as incorporation
productslimited = "purchase_assistant" ; limited editing of products 
recordsclosing = "ceo, supervisor" ; mark record as closed
recordsretyping = "ceo, supervisor, prrc" ; reset type of complaints and reworks
riskmanagement = "ceo, qmo, prrc" ; add, edit and delete risks
texttemplates = "ceo, qmo" ; add and edit text templates
users = "ceo, qmo" ; add and edit application users
vendors = "ceo, qmo, purchase, prrc" ; add and edit vendors

; page settings for pdf
[pdf]
labelsheet[format] = 'A4'
labelsheet[rows] = 11
labelsheet[columns] = 5
labelsheet[margintop] = 0 ; in mm
labelsheet[marginbottom] = 10 ; in mm
record[format] = 'A4'
record[margintop] = 30 ; in mm
record[marginright] = 15 ; in mm
record[marginbottom] = 20 ; in mm
record[marginleft] = 20 ; in mm
record[header_image] = "media/favicon/android/android-launchericon-192-192.png" ; displayed top right, auto scaled to 20mm maximum height, leave as "" if not desired, e.g. company logo
record[footer_image] = "" ; displayed bottom right, auto scaled to 10mm maximum height, leave as "" if not desired, e.g. department logo
exportimage[maxheight] = 75 ; try what fits your typical aspect ratio for landscape

[splitresults]
bundle_files_per_slide = 12
products_per_slide = 6

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; do ONLY change these settings if you know what you're doing !
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[sql]
use = "mysql" ; obviously works with MariaDB as well
mysql["host"] = "host=127.0.0.1" ; or "Server=lkjnlkjn" for sqlsrv
mysql["driver"] = "mysql" ; mysql, sqlsrv, etc. according to api/_sqlinterface.php
mysql["user"] = "caro"
mysql["password"] = "password"
mysql["database"] = "dbname=caro" ; or "Database=caro"
mysql["charset"] = "charset=utf8mb4" ; if supported
mysql["packagesize"] = 4096 ; according to your sql setup

sqlsrv["driver"] = "sqlsrv"
sqlsrv["host"] = "Server=W20013629\SQLEXPRESS"
sqlsrv["user"] = "caro"
sqlsrv["password"] = "caroapp"
sqlsrv["database"] = "Database=caro"
sqlsrv["charset"] = ""
sqlsrv["packagesize"] = 4096

[system]
caroapp = "CARO App" ; systemuser default name, can not be edited as user after installation

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; do NOT change these settings after installation !
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

; tokens like :token to be replaced by UTILITY::directory()
; path relative to root directory
; if changed during runtime former locations are not reachable any longer
[fileserver]
component_attachments = "fileserver/component_attachments"
external_documents = "fileserver/external_documents"
files_documents = "fileserver/documents/:category"
order_attachments = "fileserver/order_attachments"
record_attachments = "fileserver/record_attachments"
sharepoint = "fileserver/sharepoint"
tmp = "fileserver/tmp"
users = "fileserver/users" 
vendor_certificates = "fileserver/vendors/:name/certificates"
vendor_documents = "fileserver/vendors/:name/documents"
vendor_products = "fileserver/vendors/:name/products"