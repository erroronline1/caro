:root {
	--background: rgb(229, 233, 240);
	--foreground: rgb(46, 52, 64);
	--protrusion: rgb(229, 233, 240);
	--menu: rgb(216, 222, 233);
	--green: rgb(153, 179, 132);
	--3d-border: rgba(255, 255, 255, .3);
	--lightshadow: rgba(255, 255, 255, .9);
	--lightershadow: rgba(255, 255, 255, .5);
	--darkshadow: rgba(76, 86, 106, .3);
	--red: rgb(191, 97, 106);
}

* {
	font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
	box-sizing: border-box;
	color: var(--foreground);
}

html {
	scroll-behavior: smooth;
}

::-webkit-scrollbar {
	width: .3em;
	height: .3em
}

::-webkit-scrollbar-track,
::-webkit-scrollbar-corner {
	background: transparent;
}

::-webkit-scrollbar-thumb,
::-webkit-scrollbar-thumb:hover {
	background: var(--foreground);
	border-radius: .125em;
	width: .15em;
	height: .15em
}

/*************************** layout ******************************/
body {
	margin: 1em;
	font-size: 16px;
	color: var(--foreground);
	background: var(--background);
	background-attachment: fixed;
	-webkit-user-select: none;
	user-select: none;
}

body::before {
	background: url('media/favicon/logo.svg');
	/*1086x570*/
	background-size: 100%;
	background-repeat: no-repeat;
	transform: rotate(-90deg) translate(-25vh, -21vh);
	content: "";
	position: fixed;
	z-index: -1;
	height: calc(90vh * 570 / 1086);
	width: 90vh;
	left: 0;
	top: 0;
	opacity: 0.1;
}

/* Large devices such as laptops (1024px and up) */
@media only screen and (min-width: 64em) {
	body {
		font-size: 13px;
	}
}

header {
	margin: .75em auto;
	width: 100%;
	max-width: 50em;
	text-align: center;
}

main {
	margin: 0 auto;
	width: 100%;
	max-width: 50em;
	margin-bottom: 6em;
}

dialog {
	position: fixed;
	display: block;
	bottom: 6em;
	height: fit-content;
	width: 30em;
	border-radius: 1em;
	border: 1px solid var(--lightershadow);
	backdrop-filter: blur(10px);
	background-color: transparent;
	box-shadow:
		inset 0 0 5px var(--lightershadow),
		2px 2px 10px var(--darkshadow);
	color: var(--foreground);
	opacity: 0;
	transition: ease .3s;
	pointer-events: none;
}

dialog[open] {
	opacity: 1;
	pointer-events: none;
}

.loader {
	display: none;
	opacity: 0;
	transition: ease .3s;
	position: fixed;
	left: 50vw;
	top: 50vh;
	transform: translate(-50%, -50%);
	z-index: 9999;
	width: 50px;
	aspect-ratio: 1;
	border-radius: 50%;
	border: 8px solid #5e81ac;
	animation:
		l20-1 0.8s infinite linear alternate,
		l20-2 1.6s infinite linear;
}

@keyframes l20-1 {
	0% {
		clip-path: polygon(50% 50%, 0 0, 50% 0%, 50% 0%, 50% 0%, 50% 0%, 50% 0%)
	}

	12.5% {
		clip-path: polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 0%, 100% 0%, 100% 0%)
	}

	25% {
		clip-path: polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 100%, 100% 100%, 100% 100%)
	}

	50% {
		clip-path: polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 100%, 50% 100%, 0% 100%)
	}

	62.5% {
		clip-path: polygon(50% 50%, 100% 0, 100% 0%, 100% 0%, 100% 100%, 50% 100%, 0% 100%)
	}

	75% {
		clip-path: polygon(50% 50%, 100% 100%, 100% 100%, 100% 100%, 100% 100%, 50% 100%, 0% 100%)
	}

	100% {
		clip-path: polygon(50% 50%, 50% 100%, 50% 100%, 50% 100%, 50% 100%, 50% 100%, 0% 100%)
	}
}

@keyframes l20-2 {
	0% {
		transform: scaleY(1) rotate(0deg)
	}

	49.99% {
		transform: scaleY(1) rotate(135deg)
	}

	50% {
		transform: scaleY(-1) rotate(0deg)
	}

	100% {
		transform: scaleY(-1) rotate(-135deg)
	}
}

/*************************** menu ******************************/

body>input {
	display: none;
}

body>label,
nav {
	position: fixed;
	backdrop-filter: blur(10px);
	display: block;
	padding: 1em;
	transition: all ease .3s;
}

body>label {
	z-index: 99;
	box-shadow: 2px 2px 10px var(--darkshadow);
	background-size: cover;
	background-image: url("media/bars.svg");
	cursor: pointer;
	height: 4em;
	width: 4em;
	bottom: 1em;
	left: 50%;
	transform: translateX(-25%);
	border: 1px solid var(--lightershadow);
	border-radius: 50%;
}

nav {
	z-index: 98;
	overflow: hidden;
	box-shadow:
		inset 0 0 5px var(--lightershadow),
		2px 2px 10px var(--darkshadow);
	bottom: 0;
	left: 0;
	width: 100%;
	height: 3em;

	div {
		display: block;
		margin-bottom: 1em;
	}
}

/* Large devices such as laptops (1024px and up) */
@media only screen and (min-width: 64em) {
	nav {
		font-size: 1.125em;
	}
}

#menu {
	column-width: 10em;
	margin-bottom: 4em;

	div {
		break-inside: avoid
	}

	a,
	h3 {
		display: block;
		line-height: 2em;
		white-space: nowrap;
		width: 100%;
		margin-left: initial;
	}

	:first-child {
		margin-top: 0;
	}
}

input:checked~nav {
	height: calc(100vh - 2em);
}

[data-unreadmessages]>img {
	width: 1.5em;
	height: 1.5em;
}

[data-unreadmessages]::after {
	content: attr(data-unreadmessages);
	color: var(--red);
	position: absolute;
	margin-top: -.5em;
	margin-left: .25em;
	font-size: .75em;
}

[data-unreadmessages='0']::after {
	display: none;
}

/*************************** input elements and call to action *******************************/
input,
textarea,
select,
canvas,
.scanner {
	text-decoration: none;
	border: none;
	width: calc(100% - 2em);
	outline: none;
	display: inline-block;
	font-size: 1em;
	text-align: left;
	background: transparent;
	z-index: 1;
}

input[type=file] {
	display: none;
}

a,
a:active,
a:visited {
	color: inherit;
	text-decoration: none;
	outline: none;
}

a[data-filtered] {
	display: block;
	line-height: 3em;
}

input[type=text],
input[type=number],
input[type=search],
input[type=password],
input[type=date],
input[type=time],
textarea,
select {
	border: 1px solid var(--foreground);
	border-radius: .2em;
	padding: .75em
}

input[type=number] {
	appearance: textfield
}

.radio,
.checkbox {
	display: inline-block;
	position: relative;
	min-width: 12em;
	margin: 1em 1em 1em 2em;
}

.radio {
	padding-left: 2em;
}

.radio input,
.checkbox input {
	appearance: none;
	width: auto;
}

.radio input[type=radio]::before {
	position: absolute;
	content: '';
	top: -12.5%;
	left: 0;
	display: block;
	width: 1.5em;
	height: 1.5em;
	color: var(--green);
	background: var(--background);
	border: 1px solid var(--foreground);
	border-radius: 50%;
	transition: ease .2s;
	text-align: center;
}

.radio input[type=radio]:checked::before {
	content: '\23FA';
}

.checkbox input[type=checkbox]::after {
	position: absolute;
	content: '';
	top: -12.5%;
	right: 0;
	display: block;
	width: 1.5em;
	height: 1.5em;
	color: var(--background);
	border: 1px solid var(--foreground);
	border-radius: .2em;
	transition: ease .2s;
	text-align: center;
}

.checkbox input[type=checkbox]:checked::after {
	background-color: var(--green);
	content: '\2714';
}

.input-label {
	position: relative;
	top: -2.15em;
	pointer-events: none;
	transition: .3s;
	opacity: .5;
	margin: 0 0 0 2.8em;
}

input:not(:placeholder-shown)+.input-label,
input:focus+.input-label,
select+label.input-label {
	position: relative;
	pointer-events: none;
	font-size: .75em;
	top: -5em;
	margin: 0 0 0 3.7em;
	padding: 0 .25em;
	opacity: 1;
	background-color: var(--background);
}

.textarea-label {
	position: relative;
	pointer-events: none;
	font-size: .75em;
	top: .75em;
	margin: 0 0 0 1.7em;
	padding: 0 .25em;
	opacity: 1;
	background-color: var(--background);

	&+textarea {
		margin-left: 2em;
	}
}

.toleft,
.toright {
	background-size: cover;
	width: 3em;
	height: 3em;
	display: inline-block;
	vertical-align: middle;
	margin: 0 3em;
	opacity: .5;
}

.toleft {
	background-image: url('media/arrow-circle-left.svg');
}

.toright {
	background-image: url('media/arrow-circle-right.svg');
}

button {
	margin: 1em 0;
	padding: 1em;
	width: 100%;
	display: block;
	border: 1px solid var(--darkshadow);
	border-radius: 2em 2em 0 2em;
	background-color: transparent;
	transition: ease .15s;
}

button:disabled {
	color: var(--red);
}

.inlinebutton {
	width: fit-content;
	display: inline-block;
	padding-left: 4em;
	margin-bottom: 0;
	margin-left: 1em;
}

button:active {
	box-shadow: inset 2px 2px 3px var(--darkshadow),
		inset -2px -2px 3px var(--lightshadow);
}

.signature_required_alert {
	border: 1px solid var(--red);
}

[data-type=addButton] {
	margin: 1em 0 0 0;
}

[data-type=addButton]:active {
	box-shadow:
		-1px -1px 2px var(--lightshadow),
		0px 0px 2px var(--darkshadow);
}

/*************************** article elements and boxes ******************************/

article>header {
	margin: .75em auto;
	width: auto;
	text-align: left;
	display: block;
}

article>span[data-type] {
	padding: 0;
	width: 0;
}

.scanner {
	height: 0;
	transition: ease .3s;
	border: none !important;
}

canvas,
.scanner.active,
#scanner>video {
	height: 15em;
	margin-bottom: 2em;
}

.stlviewer {
	height: 25em;
	margin-bottom: 2em;
}

article,
main>form>article,
[data-type=addButton] {
	margin: 1em 0;
	padding: 1em;
	width: 100%;
	display: inline-block;
	border: 1px solid var(--3d-border);
	border-radius: 1em;
	background-color: var(--protrusion);
	box-shadow: 3px 3px 6px var(--darkshadow);
	transition: ease .2s;
}

section {
	border: 1px solid var(--3d-border);
	border-radius: .75em;
	display: flex;
	flex-direction: row;
	scroll-snap-type: x mandatory;
	scroll-behavior: smooth;
	overflow: scroll;
	margin: -.5em;
}

article[data-type],
[data-type=addButton] {
	padding: 1em 2em 1em 3.5em;
}

[data-type=links] {
	max-height: 15em;
	overflow: auto;
}

[data-type=composer-form]>[data-type=links] {
	/* otherwise composer displays faulty */
	max-height: none;
	overflow: auto;
}

section>form,
section>article,
section>div[draggable] {
	width: 100%;
	padding-top: 1em;
	padding-bottom: 1em;
	scroll-snap-align: center;
	flex: none;
	overflow: auto;
	box-shadow: none;
	border: none;
	background: none;
}

form>article,
section>div>article {
	box-shadow: none;
	border: none;
	background: none;
}

.inset,
[data-type=trash] {
	box-shadow: inset 3px 3px 5px var(--darkshadow);
}

.sectionindicator {
	text-align: center;
	width: 100%;
	margin-top: 1em;

	svg {
		vertical-align: middle;
	}
}

.imagecanvas,
.photoupload {
	display: block;
	margin-bottom: 0;
	float: right;
	height: 4em;
	width: 4em;
	object-fit: contain;
}

/*************************** general elements ******************************/
svg {
	fill: var(--foreground);
}

h1 {
	color: var(--foreground);
}

/*************************** decorators ******************************/

hr {
	margin: 1em auto;
	height: 1px;
	width: 100%;
	border-color: var(--darkshadow);
}

hr.insertionarea {
	margin: 1em auto;
	height: 1em;
	width: 100%;
	border-color: var(--foreground);
	border-radius: .5em;
}

section>div>hr {
	width: 95%
}

.hrhover {
	background-color: var(--green);
}

.articleindicator {
	stroke: var(--foreground);
	stroke-width: 1px;
	fill: none;
	width: 10px;
	height: 10px;
}

.articleactive {
	fill: var(--foreground);
}

/*************************** icons and cursors ******************************/

[draggable=true]:active {
	cursor: move;
}

[data-type]::before,
[data-menu]~label::before,
main a::before {
	content: "";
	display: inline-block;
	height: 1em;
	width: 1em;
	vertical-align: middle;
	background-size: cover;
	margin: 0 .75em 0 0;
}

main a::before {
	background-image: url('media/external-link-alt.svg');
}

[data-type=text]::before {
	background-image: url("media/book-reader.svg");
}

[data-type=textinput]::before {
	background-image: url("media/pencil.svg");
}

[data-type=searchinput]::before {
	background-image: url("media/search.svg");
}

[data-type=numberinput]::before {
	background-image: url("media/hashtag.svg");
}

[data-type=dateinput]::before {
	background-image: url("media/calendar-alt.svg");
}

[data-type=timeinput]::before {
	background-image: url("media/clock.svg");
}

[data-type=file]::before {
	background-image: url("media/upload.svg");
}

[data-type=photo]::before {
	background-image: url("media/camera.svg");
}

[data-type=select]::before {
	background-image: url("media/list.svg");
}

[data-type=textarea]::before {
	background-image: url("media/pencil.svg");
}

[data-type=checkbox]::before {
	background-image: url("media/check-double.svg");
}

[data-type=radio]::before {
	background-image: url("media/check.svg");
}

[data-type=links]::before {
	background-image: url("media/link.svg");
}

[data-type=signature]::before {
	background-image: url("media/signature.svg");
}

[data-type=scanner]::before {
	background-image: url("media/qrcode.svg");
}

[data-type=deletebutton]::before,
[data-type=trash]::before {
	background-image: url("media/trash-alt.svg");
}

[data-type=hiddeninput]::before,
[data-type=password]::before {
	background-image: url("media/user-secret.svg");
}

[data-type=additem]::before {
	background-image: url("media/plus-circle.svg");
}

[data-type=addblock]::before {
	background-image: url("media/arrow-alt-from-top.svg");
}

[data-type=reset]::before,
[data-type=generateupdate]::before {
	background-image: url("media/repeat-alt.svg");
}

[data-type=savebutton]::before,
[data-type=save]::before {
	background-image: url("media/save.svg");
}

[data-type=image]::before {
	background-image: url("media/image.svg");
}

[data-type=submitbutton]::before {
	background-image: url("media/paper-plane.svg");
}

[data-type=cart]::before {
	background-image: url("media/shopping-cart.svg");
}

[data-type=message]::before {
	background-image: url("media/envelope.svg");
}

[data-type=filterinput]::before {
	background-image: url("media/filter.svg");
}

[data-type=stlviewer]::before {
	background-image: url("media/cube.svg");
}