:root {
	--background: rgb(229, 233, 240);
	--foreground: rgb(46, 52, 64);
	--article: rgb(236, 239, 244);
	--3d-border: rgba(255, 255, 255, .3);
	--lightshadow: rgba(255, 255, 255, .9);
	--lightershadow: rgba(255, 255, 255, .5);
	--darkshadow: rgba(76, 86, 106, .3);
	--frostgreen: rgb(143, 188, 187);
	--red: rgb(191, 97, 106);
	--orange: rgb(208, 135, 112);
	--yellow: rgb(235, 203, 139);
	--green: rgb(153, 179, 132);
	--purple: rgb(180, 142, 173);
	--cta: rgb(136, 192, 208);
	--cta_darker: rgb(80, 155, 176);
	--cta_active: rgb(161, 227, 246);
	--shadow: 2px 2px 6px rgba(76, 86, 106, .3);
}

* {
	font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
	box-sizing: border-box;
	color: var(--foreground);
}

html {
	scroll-behavior: smooth;
}

::-webkit-scrollbar {
	width: .3em;
	height: .3em
}

::-webkit-scrollbar-track,
::-webkit-scrollbar-corner {
	background: transparent;
}

::-webkit-scrollbar-thumb,
::-webkit-scrollbar-thumb:hover {
	background: var(--foreground);
	border-radius: .125em;
	width: .15em;
	height: .15em
}

/*************************** layout ******************************/
body {
	margin: 1em;
	font-size: 16px;
	color: var(--foreground);
	background: var(--background);
	background-attachment: fixed;
	-webkit-user-select: none;
	user-select: none;
}

body::before {
	background: url('media/favicon/logo.svg');
	/*1086x570*/
	background-size: 100%;
	background-repeat: no-repeat;
	transform: rotate(-90deg) translate(-25vh, -21vh);
	content: "";
	position: fixed;
	z-index: -1;
	height: calc(80vh * 570 / 1086);
	width: 80vh;
	left: 0;
	top: 10vh;
	opacity: 0.1;
}

/* Large devices such as laptops (1024px and up) */
@media only screen and (min-width: 64em) {
	body {
		font-size: 13px;
	}
}

header {
	margin: .75em auto;
	width: 100%;
}

body>header {
	margin: 0;
	max-width: none;
	height: 4.4em;
	position: fixed;
	top: 0;
	left: 0;
	background: var(--frostgreen);
	text-align: center;
	z-index: 98;
	box-shadow: var(--shadow);

	&>h1 {
		font-size: 1.5em;
	}

	&>div {
		left: 0;
		height: .4em;
		position: fixed;
		background: var(--yellow);
	}
}

main {
	margin: 5em auto 0;
	width: 100%;
	max-width: 50em;
	margin-bottom: 6em;
}

dialog {
	position: fixed;
	display: block;
	bottom: 6em;
	height: fit-content;
	width: 30em;
	border-radius: 1em;
	border: 1px solid var(--lightershadow);
	backdrop-filter: blur(10px);
	background-color: transparent;
	box-shadow: var(--shadow);
	color: var(--foreground);
	opacity: 0;
	transition: ease .3s;
	pointer-events: none;
}

dialog[open] {
	opacity: 1;
	pointer-events: none;
}

.loader {
	display: none;
	opacity: 0;
	transition: ease .3s;
	position: fixed;
	left: 50vw;
	top: 50vh;
	transform: translate(-50%, -50%);
	z-index: 9999;
	width: 50px;
	aspect-ratio: 1;
	border-radius: 50%;
	border: 8px solid #5e81ac;
	animation:
		l20-1 0.8s infinite linear alternate,
		l20-2 1.6s infinite linear;
}

@keyframes l20-1 {
	0% {
		clip-path: polygon(50% 50%, 0 0, 50% 0%, 50% 0%, 50% 0%, 50% 0%, 50% 0%)
	}

	12.5% {
		clip-path: polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 0%, 100% 0%, 100% 0%)
	}

	25% {
		clip-path: polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 100%, 100% 100%, 100% 100%)
	}

	50% {
		clip-path: polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 100%, 50% 100%, 0% 100%)
	}

	62.5% {
		clip-path: polygon(50% 50%, 100% 0, 100% 0%, 100% 0%, 100% 100%, 50% 100%, 0% 100%)
	}

	75% {
		clip-path: polygon(50% 50%, 100% 100%, 100% 100%, 100% 100%, 100% 100%, 50% 100%, 0% 100%)
	}

	100% {
		clip-path: polygon(50% 50%, 50% 100%, 50% 100%, 50% 100%, 50% 100%, 50% 100%, 0% 100%)
	}
}

@keyframes l20-2 {
	0% {
		transform: scaleY(1) rotate(0deg)
	}

	49.99% {
		transform: scaleY(1) rotate(135deg)
	}

	50% {
		transform: scaleY(-1) rotate(0deg)
	}

	100% {
		transform: scaleY(-1) rotate(-135deg)
	}
}

/*************************** menu ******************************/

nav {
	position: fixed;
	z-index: 98;
	box-shadow: var(--shadow);
	backdrop-filter: blur(10px);
	bottom: 0;
	left: 0;
	width: 100%;
	height: 4em;
	padding: .75em;
	vertical-align: top;
	text-align: center;

	label {
		display: inline-block;
		background-size: contain;
		background-repeat: no-repeat;
		cursor: pointer;
		margin: 0 .75em;
		width: 2.5em;
		height: 3em;
		padding: .2em;

		&[data-notification]::after {
			content: attr(data-notification);
			color: var(--red);
			position: absolute;
			margin-top: -.5em;
			margin-left: 2.75em;
			font-size: .75em;
		}

		&[data-notification='0']::after {
			display: none;
		}
	}

	input {
		appearance: none
	}

	label:first-of-type {
		border-radius: 50%;
		width: 2.9em;
		height:3em;
		position:relative;
		top:-.5em;
		margin-top:-1em;
	}

	ul {
		background-color: var(--lightershadow);
		backdrop-filter: blur(10px);
		z-index: 100;
		position: fixed;
		bottom: 3em;
		left: 50%;
		transform: translateX(-50%);
		width: 100%;
		max-width: 44em;
		list-style-type: none;
		padding: 0 1em;
		border: none;
		border-radius: .2em;
		overflow: hidden;
		height: 0;
		transition: .3s ease;

		li {
			line-height: 3em;
		}
	}

	input:checked~ul {
		border: 1px solid var(--3d-border);
		padding: 1em 1em;
		height: 50em;
	}
}

/* Large devices such as laptops (1024px and up) */
@media only screen and (min-width: 64em) {
	nav {
		font-size: 1.125em;
	}
}

/*************************** input elements and call to action *******************************/
input,
textarea,
select,
canvas,
.scanner {
	text-decoration: none;
	border: none;
	width: calc(100% - 2em);
	outline: none;
	display: inline-block;
	font-size: 1em;
	text-align: left;
	background: transparent;
	z-index: 1;
}

input[type=file] {
	display: none;
}

a,
a:active,
a:visited {
	color: var(--cta_darker);
	text-decoration: none;
	outline: none;
}

a[data-filtered] {
	display: block;
	line-height: 3em;
}

input[type=text],
input[type=number],
input[type=search],
input[type=password],
input[type=date],
input[type=time],
textarea,
select {
	border: 1px solid var(--foreground);
	border-radius: .2em;
	padding: .75em
}

input[type=number] {
	appearance: textfield
}

.radio,
.checkbox {
	display: inline-block;
	position: relative;
	min-width: 12em;
	margin: 1em 1em 1em 2em;
}

.radio {
	padding-left: 2.5em;
}

.checkbox {
	padding-right: 2em;
	text-align: right;
}

.radio input,
.checkbox input {
	background: var(--article);
	accent-color: var(--green);
	width: 1.5em;
	height: 1.5em;
	margin: 0 1em;
	position: absolute;
}

.radio input {
	margin: 0 -2.5em
}

.radio input:not(:checked)::before,
.checkbox input:not(:checked)::before {
	content: "";
	position: absolute;
	width: 1.5em;
	height: 1.5em;
	top: 0;
	left: 0;
	border: 1px solid var(--foreground);
	border-radius: 2px;
	background-color: var(--article);
}

.radio input:not(:checked)::before {
	border-radius: 50%;
}

.input-label {
	position: relative;
	top: -2.15em;
	pointer-events: none;
	transition: .3s;
	opacity: .5;
	margin: 0 0 0 2.8em;
}

input:not(:placeholder-shown)+.input-label,
input:focus+.input-label,
select+label.input-label {
	position: relative;
	pointer-events: none;
	font-size: .75em;
	top: -5em;
	margin: 0 0 0 3.7em;
	padding: 0 .25em;
	opacity: 1;
	background-color: var(--article);
}

.textarea-label {
	position: relative;
	pointer-events: none;
	font-size: .75em;
	top: -1.25em;
	margin: 0 0 0 1.7em;
	padding: 0 .25em;
	opacity: 1;
	background-color: var(--article);

	&+textarea {
		margin-left: 1.75em;
		margin-top: -1.5em
	}
}

button {
	margin: 1em 0;
	padding: 1em;
	width: 100%;
	display: block;
	border: none;
	border-radius: 2em 2em 2em 2em;
	background-color: var(--cta);
	transition: ease .15s;
	color: var(--article);
	font-weight: bold;
}

article>button {
	margin-left: 1.75em;
	width: calc(100% - 2em);
}

main>form>button {
	box-shadow: var(--shadow);
}

button:disabled {
	color: var(--red);
}

.inlinebutton {
	width: fit-content;
	display: inline-block;
	margin-bottom: 0;
	margin: 0 1em;
	padding-left: 2em
}

[data-type=deletebutton] {
	color: var(--foreground);
	background-color: var(--article);
	border: 1px solid var(--cta);
}

button:active {
	background-color: var(--cta_active);
}

.signature_required_alert {
	border: 1px solid var(--red);
}

[data-type=toleft],
[data-type=toright] {
	display: none
}

/* Large devices such as laptops (1024px and up) */
@media only screen and (min-width: 64em) {

	[data-type=toleft],
	[data-type=toright] {
		display: inline-block
	}
}

/*************************** article elements and boxes ******************************/

article>header {
	margin: .75em auto;
	width: auto;
	text-align: left;
	display: block;
}

article>span[data-type] {
	padding: 0;
	width: 0;
}

label+div,
textarea+div {
	margin: -1em 0 0 2.3em;
	font-size: .75em;
}

.scanner {
	display: none;
	border: none !important;
}

canvas,
.scanner.active,
#scanner>video {
	display: block;
	height: 15em;
	margin-bottom: 2em;
}

.stlviewer {
	height: 45em;
	margin-bottom: 2em;
}

article,
main>form>article {
	margin: 1em 0;
	padding: 1em;
	width: 100%;
	display: inline-block;
	border: 1px solid var(--3d-border);
	border-radius: .2em;
	background-color: var(--article);
	box-shadow: var(--shadow);
	transition: ease .2s;
}

section {
	border: 1px solid var(--darkshadow);
	border-radius: .1em;
	display: flex;
	flex-direction: row;
	scroll-snap-type: x mandatory;
	scroll-behavior: smooth;
	overflow: scroll;
	margin: -.5em;
}

article[data-type],
[data-type=addButton] {
	padding: 1em 2em 1em 3.5em;
}

[data-type=links] {
	max-height: 15em;
	overflow: auto;
}

[data-type=composer-form]>[data-type=links] {
	/* otherwise composer displays faulty */
	max-height: none;
	overflow: auto;
}

section>form,
section>article,
section>div[draggable] {
	width: 100%;
	padding-top: 0;
	margin-top: 0;
	padding-bottom: 1em;
	scroll-snap-align: center;
	flex: none;
	overflow: auto;
	box-shadow: none;
	border: none;
	background: none;
}

form>article,
section>div>article {
	box-shadow: none;
	border: none;
	background: none;
}

.inset,
[data-type=trash] {
	box-shadow: inset 3px 3px 5px var(--darkshadow);
	/* 	box-shadow: inset var(--shadow);
	test later if this will work
	*/
}

.sectionindicator {
	text-align: center;
	width: 100%;
	margin-top: 1em;

	svg {
		vertical-align: middle;
	}
}

.imagecanvas,
.photoupload {
	display: block;
	margin-bottom: 0;
	float: right;
	height: 4em;
	width: 4em;
	object-fit: contain;
}

/*************************** general elements ******************************/

h1 {
	color: var(--foreground);
}

br {
	clear: both;
}

/*************************** decorators ******************************/

hr {
	margin: 1em auto;
	height: 1px;
	width: 100%;
	border-color: var(--darkshadow);
}

hr.insertionarea {
	margin: 1em auto;
	height: 1em;
	width: 100%;
	border-color: var(--foreground);
	border-radius: .5em;
}

section>div>hr {
	width: 95%
}

.hrhover {
	background-color: var(--green);
}

.articleindicator {
	stroke: var(--foreground);
	stroke-width: 1px;
	fill: none;
	width: 10px;
	height: 10px;
}

.articleactive {
	fill: var(--foreground);
}

/*************************** icons and cursors ******************************/

[draggable=true]:active {
	cursor: move;
}

[data-type]::before,
[data-menu]~label::before,
main a:not([data-type])::before {
	content: "";
	display: inline-block;
	height: 1em;
	width: 1em;
	vertical-align: middle;
	background-size: cover;
	margin: 0 .75em 0 0;
}

main a:not([data-type])::before {
	background-color: var(--cta_darker);
	-webkit-mask-image: url('media/external-link-alt.svg');
	mask-image: url('media/external-link-alt.svg');
}

[data-type=toleft]::before {
	background-color: var(--article);
	-webkit-mask-image: url('media/arrow-left.svg');
	mask-image: url('media/arrow-left.svg');
}

[data-type=toright]::before {
	background-color: var(--article);
	-webkit-mask-image: url('media/arrow-right.svg');
	mask-image: url('media/arrow-right.svg');
}

[data-type=text]::before {
	background-image: url("media/info-circle.svg");
}

[data-type=textinput]::before {
	background-image: url("media/pencil.svg");
}

[data-type=searchinput]::before {
	background-image: url("media/search.svg");
}

[data-type=numberinput]::before {
	background-image: url("media/hashtag.svg");
}

[data-type=dateinput]::before {
	background-image: url("media/calendar-alt.svg");
}

[data-type=timeinput]::before {
	background-image: url("media/clock.svg");
}

[data-type=file]::before {
	background-image: url("media/upload.svg");
}

button[data-type=file]::before {
	background-image: none;
	background-color: var(--article);
	-webkit-mask-image: url('media/upload.svg');
	mask-image: url('media/upload.svg');
}

[data-type=photo]::before {
	background-image: url("media/camera.svg");
}

button[data-type=photo]::before {
	background-image: none;
	background-color: var(--article);
	-webkit-mask-image: url('media/camera.svg');
	mask-image: url('media/camera.svg');
}

[data-type=select]::before {
	background-image: url("media/list.svg");
}

[data-type=textarea]::before {
	background-image: url("media/pencil.svg");
}

[data-type=checkbox]::before {
	background-image: url("media/check-double.svg");
}

[data-type=radio]::before {
	background-image: url("media/check.svg");
}

[data-type=links]::before {
	background-image: url("media/link.svg");
}

[data-type=signature]::before {
	background-image: url("media/signature.svg");
}

[data-type=scanner]::before {
	background-image: url("media/qrcode.svg");
}

button[data-type=scanner]::before {
	background-image: none;
	background-color: var(--article);
	-webkit-mask-image: url('media/qrcode.svg');
	mask-image: url('media/qrcode.svg');
}

[data-type=deletebutton]::before,
[data-type=trash]::before {
	background-image: url("media/trash-alt.svg");
}

button[data-type=deletebutton]::before,
button[data-type=trash]::before {
	background-image: none;
	background-color: var(--red);
	-webkit-mask-image: url('media/trash-alt.svg');
	mask-image: url('media/trash-alt.svg');
}

[data-type=hiddeninput]::before,
[data-type=password]::before {
	background-image: url("media/user-secret.svg");
}

[data-type=additem]::before {
	background-image: url("media/plus.svg");
}

button[data-type=additem]::before {
	background-image: none;
	background-color: var(--article);
	-webkit-mask-image: url('media/plus.svg');
	mask-image: url('media/plus.svg');
}


[data-type=addblock]::before {
	background-image: url("media/arrow-alt-from-top.svg");
}

[data-type=reset]::before,
[data-type=generateupdate]::before {
	background-image: url("media/repeat-alt.svg");
}

button[data-type=reset]::before,
button[data-type=generateupdate]::before {
	background-image: none;
	background-color: var(--article);
	-webkit-mask-image: url('media/repeat-alt.svg');
	mask-image: url('media/repeat-alt.svg');
}


[data-type=savebutton]::before,
[data-type=save]::before {
	background-image: url("media/save.svg");
}

button[data-type=savebutton]::before,
button[data-type=save]::before {
	background-image: none;
	background-color: var(--article);
	-webkit-mask-image: url('media/save.svg');
	mask-image: url('media/save.svg');
}

[data-type=image]::before {
	background-image: url("media/image.svg");
}

button[data-type=image]::before {
	background-image: none;
	background-color: var(--article);
	-webkit-mask-image: url('media/image.svg');
	mask-image: url('media/image.svg');
}

[data-type=submitbutton]::before {
	background-image: url("media/paper-plane.svg");
}

button[data-type=submitbutton]::before {
	background-image: none;
	background-color: var(--article);
	-webkit-mask-image: url('media/paper-plane.svg');
	mask-image: url('media/paper-plane.svg');
}

[data-type=cart]::before {
	background-image: url("media/shopping-cart.svg");
}

[data-type=message]::before {
	background-image: url("media/envelope.svg");
}

[data-type=filterinput]::before {
	background-image: url("media/filter.svg");
}